/* =======================================================
   CSS GENERAL
   ======================================================= */

html {
    scroll-behavior: smooth; /* Suaviza el movimiento al saltar entre secciones */
}

* {
    box-sizing: border-box; /* El ancho incluye padding y bordes para evitar desbordes */
    margin: 0; /* Quita márgenes automáticos del navegador */
    padding: 0; /* Quita espacios internos automáticos del navegador */
}

body {
    font-family: 'Segoe UI', sans-serif; /* Fuente moderna y legible para el sitio */
    background: #0b0e14; /* Color de fondo oscuro principal */
    color: white; /* Texto blanco para alto contraste */
    scroll-behavior: smooth; /* Refuerza el scroll suave en el cuerpo */
}

main {
    padding: 20px; /* Margen interno para que el contenido no toque los bordes */
}


/* =======================================================
   HEADER GRANDE (NO STICKY)
   ======================================================= */

header {
    background: rgba(21, 24, 30, 0.75); /* Fondo oscuro con transparencia para efecto de profundidad */
}

/* Contenedor superior del header */
.header-top {
    padding: 20px 10px; /* Espaciado interno arriba/abajo y a los lados */
    min-height: 250px; /* Altura mínima garantizada para que se vea imponente */
    display: flex; /* Activa el modo flexible para alinear elementos */
    flex-direction: column; /* Apila los elementos (logo y texto) uno sobre otro */
    align-items: center; /* Centra los elementos horizontalmente */
    justify-content: center; /* Centra los elementos verticalmente */
}

/* Logo */
.header-top img {
    max-width: 80%; /* Evita que el logo sea más grande que el ancho de la pantalla */
    height: auto; /* Mantiene la proporción original de la imagen sin deformarla */
    margin-bottom: 10px; /* Espacio de separación debajo del logo */
}

/* =======================================================
   MENÚ STICKY REAL (SOLO LA BARRA)
   ======================================================= */
.barra-menu {
    position: sticky; /* Mantiene la barra fija en la parte superior al hacer scroll */
    top: 0; /* Define que se pegue exactamente al borde superior */
    z-index: 1000; /* Asegura que el menú quede por encima de cualquier otro elemento */
    background: #0b0e14; /* Color sólido de respaldo para evitar transparencias indeseadas */
    background: rgba(21, 24, 30, 0.75); /* Color oscuro translúcido para combinar con el diseño */
    backdrop-filter: blur(10px); /* Desenfoque de fondo para efecto de cristal esmerilado */
    -webkit-backdrop-filter: blur(10px); /* Compatibilidad del efecto de desenfoque para Safari */
    width: 100%; /* Ocupa todo el ancho disponible de la pantalla */
    padding: 15px 0; /* Espacio interno vertical para dar altura a la barra */
    border-bottom: 2px solid #ed1c24; /* Línea decorativa roja en la parte inferior */
    box-shadow: 0 4px 15px rgba(237, 28, 36, 0.3); /* Sombra con resplandor rojo suave */
    text-align: center; /* Centra el contenido de texto dentro de la barra */
    border-radius: 20px; /* Redondea las esquinas de la barra de navegación */
}

.menu {
    display: flex; /* Alinea los enlaces del menú en una fila horizontal */
    justify-content: center; /* Centra los enlaces horizontalmente */
    gap: 10px; /* Espacio de separación entre cada botón del menú */
}

.menu a {
    padding: 8px 15px; /* Tamaño interno de cada botón del menú */
    background: rgba(255, 255, 255, 0.05); /* Fondo sutil para destacar los botones */
    color: white; /* Color del texto de los enlaces */
    text-decoration: none; /* Quita el subrayado automático de los enlaces */
    border-radius: 5px; /* Redondeo suave de las esquinas de los botones */
    font-size: 0.9rem; /* Tamaño de letra ligeramente reducido para elegancia */
    transition: 0.3s; /* Suaviza la animación de todos los cambios de estado */
}

.menu a:hover {
    background: #ed1c24; /* Cambia a rojo cuando el mouse pasa por encima */
    transform: scale(1.1); /* Agranda ligeramente el botón al interactuar */
    box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4); /* Añade resplandor rojo al botón activo */
}


/* =======================================================
   SISTEMA DE SECCIONES (TARGET)
   ======================================================= */
.bloque { 
    opacity: 0; /* Hace la sección invisible por defecto */
    visibility: hidden; /* Oculta la sección para que no sea interactiva mientras está invisible */
    height: 0; /* Colapsa la altura para que no ocupe espacio cuando no está activa */
    transition: all 0.5s ease; /* Suaviza la aparición y desaparición de las secciones */
    scroll-margin-top: 130px; /* Deja un espacio superior al saltar a la sección para que no la tape el menú */
} 

.bloque:target { 
    opacity: 1; /* Muestra la sección cuando su ID coincide con el enlace pulsado */
    visibility: visible; /* Hace que la sección sea interactiva nuevamente */
    height: auto; /* Permite que la sección tome el alto según su contenido */
    display: flex !important; /* Activa flexbox para organizar el contenido interno */
    justify-content: flex-start; /* Alinea el contenido al inicio del eje horizontal */
    align-items: flex-start; /* Alinea el contenido al inicio del eje vertical */
    gap: 20px; /* Espaciado entre los elementos internos de la sección */
    padding-top: 20px; /* Espacio interno superior para separar el contenido del borde */
    min-height: 100vh; /* Asegura que la sección ocupe al menos todo el alto de la pantalla */
    animation: fadeIn 0.5s ease; /* Aplica una animación de entrada suave */
}

section:has(article:target) {
    opacity: 1; /* Muestra la sección si alguno de sus artículos internos es el objetivo */
    visibility: visible; /* Asegura visibilidad si se navega directamente a un personaje */
    height: auto; /* Ajusta el alto automáticamente */
    overflow: visible; /* Permite que los elementos internos sobresalgan si es necesario */
    display: flex !important; /* Fuerza el modo flexbox */
    align-items: flex-start; /* Alinea los elementos al inicio */
    gap: 20px; /* Mantiene la separación entre elementos */
    padding-top: 20px; /* Espaciado superior */
    min-height: 100vh; /* Mantiene el estándar de pantalla completa */
}

/* Sección inicio visible por defecto */
#inicio { 
    opacity: 0; /* Se mantiene oculto hasta que se active (o se maneje por lógica de carga) */
    visibility: hidden; /* Estado inicial no interactivo */
    height: 0; /* Sin altura inicial */
} 

#inicio:target { 
    opacity: 1; /* Muestra el inicio cuando se pulsa el enlace correspondiente */
    visibility: visible; /* Lo hace interactivo */
    height: auto; /* Ajusta su altura al contenido */
    display: flex; /* Activa el modo flexible */
    justify-content: center; /* Centra el contenido del inicio horizontalmente */
    padding-top: 20px; /* Espaciado superior decorativo */
}

/* Oculta inicio cuando otra sección está activa */
body:has(section:target:not(#inicio)) #inicio {
    opacity: 0; /* Desvanece el inicio si hay otra sección en pantalla */
    visibility: hidden; /* Quita interactividad al inicio oculto */
    height: 0; /* Elimina su espacio para que no interfiera con el scroll */
}


/* =======================================================
   CONTENIDO DENTRO DE FLEX (nueva regla)
   ======================================================= */
.bloque:target > .contenido {
    flex: 1; /* Permite que el contenedor crezca y ocupe el espacio disponible en el eje flex */
    margin: 0 auto; /* Centra el bloque de contenido horizontalmente dentro de la sección */
    max-width: 1000px; /* Limita el ancho para que la lectura sea cómoda en pantallas anchas */
}


/* =======================================================
   GLOSARIO LATERAL PROFESIONAL
   ======================================================= */
.menu-interno {
    position: sticky; /* Mantiene el menú visible mientras el usuario hace scroll en la sección */
    left: 30px; /* Separación desde el borde izquierdo de la pantalla */
    top: 180px; /* Posición vertical para evitar que el header principal lo tape */
    flex-shrink: 0; /* Evita que el contenedor se aplaste si hay mucho contenido a la derecha */
    width: 200px; /* Ancho fijo del menú lateral */
    min-width: 200px; /* Asegura que el ancho no sea menor a 200px */
    height: fit-content; /* El alto de la caja se ajusta solo a la cantidad de enlaces que tenga */
    background: rgba(21, 24, 30, 0.8); /* Fondo oscuro semitransparente */
    backdrop-filter: blur(10px); /* Efecto de desenfoque tras el menú */
    border-left: 3px solid #ed1c24; /* Línea roja gruesa a la izquierda para destacar */
    padding: 15px; /* Espaciado interno para que los enlaces no toquen los bordes */
    border-radius: 0 15px 15px 0; /* Redondea solo las esquinas derechas para un look de pestaña */
    box-shadow: 10px 0 20px rgba(0,0,0,0.5); /* Sombra lateral para dar profundidad hacia la derecha */
    z-index: 1001; /* Asegura que esté por encima de otros elementos de la sección */
    align-self: flex-start; /* Alinea el menú al inicio del contenedor flex */
}

.menu-titulo {
    color: #ed1c24; /* Color rojo para el título del glosario */
    font-weight: bold; /* Texto en negrita para jerarquía visual */
    font-size: 0.8rem; /* Tamaño de fuente pequeño y elegante */
    margin-bottom: 15px; /* Separación con el primer enlace */
    letter-spacing: 2px; /* Espaciado entre letras para un estilo profesional */
    border-bottom: 1px solid rgba(237, 28, 36, 0.3); /* Línea divisoria roja muy sutil */
    padding-bottom: 5px; /* Espacio entre el texto del título y su línea divisoria */
    scroll-margin-top: 150px; /* Evita que el título se oculte bajo el header al navegar */
}

.menu-interno a {
    display: block; /* Hace que cada enlace ocupe toda la línea disponible */
    color: white; /* Texto de los enlaces en blanco */
    text-decoration: none; /* Elimina el subrayado de los links */
    font-size: 0.9rem; /* Tamaño de fuente de los ítems del menú */
    padding: 8px 0; /* Espaciado vertical para facilitar el clic */
    transition: 0.3s; /* Suaviza el cambio de color y movimiento al pasar el mouse */
    border-bottom: 1px solid rgba(255,255,255,0.05); /* Línea separadora casi invisible entre ítems */
}

.menu-interno a:hover {
    color: #ed1c24; /* Cambia el texto a rojo al posicionar el mouse */
    padding-left: 10px; /* Efecto de desplazamiento a la derecha al hacer hover */
}

/* Ajuste para que el contenido no se pegue al menú */
@media (max-width: 1200px) {
    .bloque { padding-left: 20px; } /* Añade margen izquierdo en pantallas medianas */
    .menu-interno { display: none; } /* Oculta el glosario en pantallas pequeñas para ahorrar espacio */
}

/* =======================================================
   SECCIONES CON FONDO FULLSCREEN
   ======================================================= */
#inicio.bloque:target,
#estudiantes.bloque:target,
#profesores.bloque:target,
#villanos.bloque:target {
    background-size: cover; /* Ajusta la imagen para que cubra todo el fondo sin deformarse */
    background-position: center; /* Centra la imagen de fondo tanto vertical como horizontalmente */
    background-repeat: no-repeat; /* Evita que la imagen se duplique si es pequeña */
    background-attachment: fixed; /* Crea un efecto Parallax: el fondo se queda quieto al bajar */
    padding-top: 40px; /* Espacio extra en la parte superior para separar el contenido */
    border-radius: 18px 18px 18px 18px; /* Redondea las esquinas de la sección para suavizar el diseño */
}

/* Imágenes de fondo específicas para cada ID */
#inicio {
    background-image: url('img/imagen-inicio.jpg'); /* Imagen para la sección de bienvenida */
}

#estudiantes {
    background-image: url('img/imagen-estudiantes.jpg'); /* Imagen temática para la lista de alumnos */
}

#profesores {
    background-image: url('img/image-profesores.jpg'); /* Imagen temática para el personal docente */
}

#villanos {
    background-image: url('img/imagen-villanos.jpg'); /* Imagen temática para la sección de antagonistas */
}



/* =======================================================
   TÍTULOS
   ======================================================= */
h2 {
    text-align: center; /* Centra el texto de los títulos principales horizontalmente */
    padding: 30px 10px; /* Añade un espacio generoso arriba/abajo y mínimo a los lados */
}

h3 {
    text-align: center; /* Centra el texto de los subtítulos o nombres de secciones */
    padding: 10px; /* Añade un margen interno uniforme para no pegar el texto a otros elementos */
}


/* =======================================================
   TARJETAS DE PERSONAJES
   ======================================================= */
article {
    background: rgba(21, 24, 30, 0.75); /* Fondo oscuro semitransparente para legibilidad */
    backdrop-filter: blur(8px); /* Aplica un desenfoque al fondo que está detrás de la tarjeta */
    padding: 20px; /* Espacio interno para que el contenido no toque los bordes */
    margin-bottom: 20px; /* Separación entre una tarjeta y la siguiente */
    border-radius: 15px; /* Redondeo de las esquinas de la tarjeta */
    max-width: 800px; /* Ancho máximo permitido para la tarjeta */
    margin-left: auto; /* Centra la tarjeta horizontalmente respecto a su contenedor */
    margin-right: auto; /* Centra la tarjeta horizontalmente respecto a su contenedor */
    border: 1px solid rgba(255, 255, 255, 0.05); /* Borde sutil casi invisible para definir la silueta */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); /* Sombra oscura para dar efecto de elevación */
    transition: transform 0.3s ease, box-shadow 0.3s ease; /* Suaviza las animaciones de tamaño y sombra */
    scroll-margin-top: 120px; /* Evita que el menú sticky tape el inicio de la tarjeta al saltar a ella */
}

article:hover {
    transform: scale(1.03); /* Agranda la tarjeta un 3% cuando el cursor está encima */
    background: rgba(35, 40, 50, 0.95); /* Hace el fondo un poco más opaco y claro al interactuar */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.6); /* Intensifica la sombra para resaltar la tarjeta */
}

.contenido {
    flex: 1; /* Permite que el contenedor de contenido se expanda en el sistema flex */
    padding: 0 20px; /* Espacio lateral para que el texto no toque los bordes del navegador */
    max-width: 1000px; /* Limita el ancho del área de lectura principal */
    margin: 0 auto; /* Centra todo el bloque de contenido en la pantalla */
}

.contenido article {
    width: calc(100% - 40px); /* Ajusta el ancho restando el padding lateral para evitar desbordes */
    max-width: 750px; /* Un ancho ligeramente menor para artículos dentro del contenedor principal */
}

/* =======================================================
   CARRUSEL AUTOMÁTICO
   ======================================================= */
.carrusel {
    width: 100%; /* El contenedor ocupa todo el ancho disponible */
    max-width: 500px; /* Limita el ancho máximo para que no se vea gigante en PC */
    height: 300px; /* Altura fija para mantener la uniformidad de las imágenes */
    margin: 20px auto; /* Espaciado vertical y centrado horizontal */
    overflow: hidden; /* Recorta lo que sobresale para que solo se vea una imagen a la vez */
    border-radius: 12px; /* Redondea las esquinas del marco del carrusel */
    border: 1px solid #333; /* Borde gris oscuro para definir el marco */
    box-shadow: 0 5px 15px rgba(237, 28, 36, 0.4); /* Resplandor rojo que combina con tu temática */
}

.carrusel-interno {
    display: flex; /* Coloca las imágenes una al lado de la otra en una fila infinita */
    width: 300%; /* Triple del ancho porque contiene 3 imágenes (100% cada una) */
    height: 100%; /* Ocupa todo el alto del contenedor padre */
    animation: carruselAnim 10s infinite; /* Ejecuta la animación de movimiento cíclico eterno */
}

.carrusel-interno img {
    width: 100%; /* Cada imagen ocupa el ancho completo del visor del carrusel */
    height: 100%; /* Cada imagen ocupa el alto completo del visor */
    object-fit: contain; /* Ajusta la imagen sin recortarla, mostrando todo el dibujo */
    background-color: black; /* Fondo negro para rellenar huecos si la imagen es estrecha */
}

@keyframes carruselAnim {
    0%, 30%   { transform: translateX(0%); } /* Muestra la primera imagen y hace una pausa */
    33%, 63%  { transform: translateX(-33.33%); } /* Salta y pausa en la segunda imagen */
    66%, 96%  { transform: translateX(-66.66%); } /* Salta y pausa en la tercera imagen */
    100%      { transform: translateX(0%); } /* Regresa rápidamente al inicio para reiniciar el ciclo */
}


/* =======================================================
   GIF
   ======================================================= */

.gif {
    display: block;          /* Elimina espacios extra abajo */
    margin: 20px auto;      /* Centra el GIF horizontalmente */
    max-width: 100%;        /* Evita que se salga de la tarjeta */
    height: auto;           /* Mantiene la proporción original sin deformar */
    border-radius: 8px;     /* Bordes redondeados para que combine con tu diseño */
    border: 2px solid #ed1c24; /* Opcional: un borde rojo como tu menú */
    box-shadow: 0 4px 15px rgba(237, 28, 36, 0.3); /* Resplandor rojo suave */
}


/* =======================================================
   BOTONES DECORATIVOS
   ======================================================= */

.acciones {
    display: flex; /* Alinea los botones en una fila horizontal */
    justify-content: center; /* Centra el grupo de botones dentro de la tarjeta */
    gap: 15px; /* Espacio de separación uniforme entre cada botón */
    margin-top: 15px; /* Separación respecto al contenido superior de la tarjeta */
    flex-wrap: wrap; /* Permite que los botones bajen a la siguiente línea en pantallas pequeñas */
}

.btn {
    padding: 8px 14px; /* Tamaño interno del botón para que sea fácil de presionar */
    border: none; /* Elimina el borde por defecto del navegador */
    border-radius: 6px; /* Redondeo suave de las esquinas del botón */
    background: #2a2e35; /* Color de fondo gris oscuro neutro */
    color: white; /* Color del texto o iconos dentro del botón */
    cursor: pointer; /* Cambia el cursor a mano para indicar que es clickeable */
    font-size: 0.85rem; /* Tamaño de letra compacto y legible */
    transition: all 0.3s ease; /* Suaviza la transición de color y escala al interactuar */
}

/* Hover general */
.btn:hover {
    transform: scale(1.05); /* Agranda el botón ligeramente al pasar el mouse */
}

/* Colores individuales al pasar el mouse */
.like:hover {
    background: #ff2e63; /* Cambia a rosado/rojo al dar "like" */
}

.comentar:hover {
    background: #9c27b0; /* Cambia a morado al intentar "comentar" */
}

.compartir:hover {
    background: #0077ff; /* Cambia a azul al intentar "compartir" */
}



/* =======================================================
   ANIMACIONES Y FLUIDEZ GENERAL
   ======================================================= */

/* Aparición suave de secciones */
.bloque:target {
    animation: fadeIn 0.4s ease; /* Ejecuta la animación de desvanecimiento al activar la sección */
}

@keyframes fadeIn {
    from { opacity: 0; } /* Define el estado inicial de la animación: totalmente transparente */
    to { opacity: 1; } /* Define el estado final de la animación: totalmente visible */
}


/* =======================================================
   FOOTER
   ======================================================= */

footer {
    background: rgba(21, 24, 30, 0.75); /* Fondo oscuro translúcido para que combine con las tarjetas */
    backdrop-filter: blur(10px); /* Aplica desenfoque al contenido que pase por detrás */
    -webkit-backdrop-filter: blur(10px); /* Soporte de desenfoque para navegadores Safari */
    color: #ffffff; /* Color de texto blanco puro */
    text-align: center; /* Centra los créditos y enlaces del pie de página */
    padding: 20px 10px; /* Espaciado interno para dar aire al contenido */
    margin-top: 0; /* Elimina separación superior para que pegue con la sección previa */
    border-top: 2px solid #ed1c24; /* Línea roja decorativa en la parte superior del footer */
    box-shadow: 0 4px 15px rgba(237, 28, 36, 0.3); /* Resplandor rojo sutil para dar profundidad */
}

footer {
    border-radius: 12px; /* Redondea las esquinas del pie de página para un acabado suave */
}


/* =======================================================
   VIDEOS Y AUDIOS (ESTILO IGUAL AL GIF)
   ======================================================= */

.video-custom {
    display: block; /* Elimina espacios en blanco extra y permite centrarlo con margin auto */
    margin: 20px auto; /* Centra el video horizontalmente y da espacio arriba/abajo */
    max-width: 100%; /* Asegura que el video no se salga de su contenedor en móviles */
    border-radius: 8px; /* Redondea las esquinas del marco del video */
    border: 2px solid #ed1c24; /* Marco rojo distintivo que combina con tu marca */
    box-shadow: 0 4px 15px rgba(237, 28, 36, 0.3); /* Resplandor rojo suave para dar profundidad */
    background-color: #000; /* Fondo negro de seguridad mientras carga el contenido */
}


/* =======================================================
   REPRODUCTOR DE MÚSICA (CÁPSULA COMPACTA)
   ======================================================= */

/* Contenedor en la esquina inferior derecha más compacto */
.contenedor-audio-fijo {
    position: fixed; /* Mantiene el reproductor flotando en la pantalla aunque se haga scroll */
    bottom: 20px; /* Separación desde el borde inferior de la pantalla */
    right: 20px; /* Separación desde el borde derecho de la pantalla */
    z-index: 10000; /* Prioridad máxima para que siempre esté por encima de todo */
    background: rgba(21, 24, 30, 0.85); /* Fondo oscuro con transparencia para que sea elegante */
    backdrop-filter: blur(10px); /* Desenfoque del contenido que queda detrás de la cápsula */
    -webkit-backdrop-filter: blur(10px); /* Soporte de desenfoque para navegadores Safari */
    padding: 6px 10px; /* Relleno interno reducido para que la cápsula sea pequeña */
    border-radius: 12px; /* Redondeo de las esquinas de la cápsula */
    border: 1px solid rgba(255, 255, 255, 0.05); /* Borde lateral casi invisible */
    border-top: 2px solid #ed1c24; /* Línea roja superior para mantener la estética del sitio */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); /* Sombra profunda para que resalte sobre el fondo */
}

/* Reducimos el tamaño del reproductor nativo */
.reproductor-estilo {
    height: 30px; /* Reduce la altura de la barra de controles */
    width: 180px; /* Reduce el ancho para que ocupe muy poco espacio lateral */
    display: block; /* Asegura que el reproductor se comporte como un bloque sólido */
    filter: invert(100%) hue-rotate(180deg) brightness(1.2); /* Cambia el color del reproductor a tonos claros */
    transform: scale(0.9); /* Reduce el tamaño general un 10% adicional */
    transform-origin: center; /* Asegura que la reducción de tamaño sea desde el centro */
}

.bloque:not(:target) {
    display: none; /* Quitamos el !important para que sea menos agresivo */
}